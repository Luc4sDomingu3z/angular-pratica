<!--Vehicles Section-->
<section class="dashboard-section">
  <h1>Veículos</h1>

  <div class="">
    <section class="">
      <div>
        <button type="button">
          <ion-icon name="refresh" size="small"></ion-icon>
          <span>Sincronizar Veículos</span>
        </button>
      </div>
      <div>
        <button type="button" (pointerup)="createVehicle()">
          <ion-icon name="add" size="small"></ion-icon>
          <span>Criar Veículo</span>
        </button>
      </div>
    </section>
    <article class="car-selected-area" aria-label="Area do veiculo selecionado">
      <form action="" method="get" class="car-form-selection">
        <fieldset>
          <div>
            <label for="cars">Carros da Ford</label>
            <select name="cars" id="cars" aria-label="Carros da Ford" (change)="loadCar($event)">
              <option value="" disabled selected>Selecione um veículo</option>
              @for (vehicle of vehicles; track vehicle.id;) {
              <option value="{{vehicle.id}}">{{vehicle.vehicle}}</option>
              }
            </select>
          </div>
        </fieldset>
      </form>

      @if (selectedVehicle !== null) {
      <section class="car-data-section" aria-label="Dados do carro">
        <div class="car-data-top" aria-label="car-data-top">
          <div>
            <h2>Total de vendas</h2>
            <div>
              <p>{{selectedVehicle.volumetotal}}</p>
              <span>Und.</span>
            </div>
          </div>

          <div class="">
            <h2>Conectados</h2>
            <div>
              <p>{{selectedVehicle.connected}}</p>
              <span>
                Uni.
              </span>
            </div>
          </div>

          <div class="">
            <h2>Update Software</h2>
            <div>
              <p>{{selectedVehicle.softwareUpdates}}</p>
              <span>Uni.</span>
            </div>
          </div>

        </div>
        <div class="car-image-container" aria-label="Car image">
          <span aria-label="id">394830#929FD</span>
          <!--<img src="https://www.thedrive.com/wp-content/uploads/2022/09/15/ford-mustang-2024.jpeg?auto=webp" alt="" />-->
          <img src="{{selectedVehicle.img_local}}" alt="">
        </div>
        <div class="car-datas">
          <div>
            <h2>modelo</h2>
            <p>{{selectedVehicle.vehicle}}</p>
          </div>
          <div>
            <h2>ano</h2>
            <p>2025</p>
          </div>
          <!-- <div>
            <h2>Cor</h2>
            <p>Preto</p>
          </div> -->
          <div>
            <h2>Odômetro</h2>
            <p>{{carVin.odometro}}</p>
          </div>
          <div>
            <h2>Nível de combustível</h2>
            <p>{{carVin.nivelCombustivel}}</p>
          </div>
          <div>
            <h2>Lat.</h2>
            <p>{{carVin.lat}}</p>
          </div>
          <div>
            <h2>Long.</h2>
            <p>{{carVin.long}}</p>
          </div>
        </div>
      </section>
      }
    </article>
    <dialog class="dashboard-form-container">
      <h1>Novo veículo</h1>
      <form action="" aria-label="Register new car" method="dialog">
        <fieldset>
          <div>
            <label for="model">Modelo</label>
            <input type="text" id="model" name="model" required />
          </div>
          <div>
            <label for="year">Ano</label>
            <input type="number" id="year" name="year" min="1900" max="2099" required />
          </div>
          <div>
            <label for="color">Cor</label>
            <input type="color" id="color" name="color" required />
          </div>
        </fieldset>
        <fieldset>
          <button>
            <ion-icon name="checkmark"></ion-icon>
          </button>
        </fieldset>
      </form>
    </dialog>
  </div>
</section>
